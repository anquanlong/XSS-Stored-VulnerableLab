### XSS实验导语
通过本实验进行深度安全开发实践；我们提取了本实验的XSS防御核心策略，在ThinkPHP5框架实现纯文本、富文本便签功能XSS攻击与防御实验环境。[实践TP5框架XSS防御实验与安全参考](https://www.anquanlong.com/lab_detail?lib=16 "实践TP5框架XSS防御实验与安全参考")

###实验室目录
>0x1 安全开发实验介绍
0x2 实验1:纯文本XSS漏洞攻防
0x3 实验2:富文本XSS漏洞攻防
附加：反射DOM型xss漏洞挑战

### 0x1 XSS安全开发实验介绍
富文本XSS漏洞应该是最难的防御的，如果没有用白名单过滤HTML标签机制，简直对它束手无策，但通过本实验，将迎刃而解富文本XSS漏洞防御难题；
我们将用安全开发的最佳攻防实践思想，通过攻击与防御，深入分析漏洞并防御XSS漏洞！XSS漏洞攻击与防御最佳安全实践~一起来跟着本实验复现漏洞，并写代码修复漏洞吧！
#### 1、什么是XSS攻击？

XSS是跨站脚本攻击(Cross Site Scripting)的简称，之所以叫XSS而不是CSS相比大家都能明白了吧，那就是为了跟层叠样式表(Cascading Style Sheets，CSS)区别。

**XSS漏洞攻击的原理**

恶意攻击者往web页面中插入恶意HTML代码，当用户浏览该web页面时，嵌入到该web页面的恶意HTML代码就会被执行，从而达到恶意攻击用户的特殊目的。
XSS漏洞危害最大的是持久型/存储型XSS，攻击后，它们嵌入到web页面的恶意HTML会被存储到应用服务器端，简而言之就是会被存储到数据库，等用户在打开页面时，会继续执行恶意代码，能够持续的攻击用户；

另一类是反射型XSS，但在现在这种类型的漏洞，主流浏览器都能做防御，所以在本实验就不提了。

#### 2、实验环境
Ubuntu16、mysql5.7、PHP7.2
#### 3、实验流程
>1、通过复现xss漏洞；2、前端白名单过滤代码编写与绕过前端过滤xss实验；3、编写后端白名单过滤代码达到防御xss攻击最佳安全实践；4、富文本xss防御最佳解决方案。

#### 4、实验目标
>1、学习掌握xss漏洞攻击；2、学会使用xss漏洞防御；学会使用前端后端数据进行白名单过滤；4、学会使用富文本xss漏洞防御最佳解决方案。

#### 5、功能介绍
##### 浏览器（窗口）
`实验1:纯文本XSS漏洞` 纯文本型前端提交post表单数据功能；

`实验2:富文本XSS漏洞` 富文本型前端提交post表单数据功能；

`清空数据` 清空提交过的全部数据。

##### 代码审计（代码编辑器）
`实验1:index.php` 前端代码，显示数据与前端js白名单数据过滤方法；

`实验1:add.php` 后端存储数据代码，对数据进行过滤存储；

`实验2:index.php` 前端代码，显示数据与前端js白名单过滤方法；

`实验2:add.php`  后端存储数据代码，对数据进行过滤存储与后端php白名单数据过滤方法。

>ok,以上基础信息了解完，我们进行下一步实验！

`0x2 实验1:纯文本XSS漏洞攻防`

